<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 <mapper namespace="com.tech.spring.dao.CustomerBoardDao">
 <!-- 게시물목록 -->
 <select id="boardList" parameterType="PageVO" resultType="BoardDto">
 	select 
	r1.*
from 
	(
	select 
		gb.board_seq,
		gb.board_title,
		cu.custom_user_nick as board_writer,
		gb.board_text,
		date_format(board_mod_date, '%Y-%m-%d') AS board_mod_date,
		gb.board_del_yn
	from 
		general_board gb join custom_user cu 
	on gb.board_writer = cu.custom_user_nick
	where 
	board_del_yn = 'n'
	)r1
order by
	board_seq desc
 
 </select>
 
 
 <select id="boardDetail" parameterType="Integer" resultType="BoardDto">
	 select 
		board_seq,
		custom_user_nick as board_writer,
		board_title,
		board_text,
		board_img_path
	from 
		general_board gb join custom_user cu 
	on
		gb.board_writer = cu.custom_user_nick
	where 
		board_seq = #{board_seq};
 </select>
 
 
 
 
 
 
</mapper>  